var CommonUtils=CommonUtils||{};
CommonUtils.remoteCallClass=function(){var f,g,h,m,n,p,q,k;this.requestMethod="POST";this.callType=!0;this.requestData={};this.password=this.user="";this.syncGetRequest=function(b,a){this.requestMethod="GET";this.callType=!1;return d(b,a,this)};this.asyncGetRequest=function(b,a){this.requestMethod="GET";this.callType=!0;return d(b,a,this)};this.syncPostRequest=function(b,a){this.requestMethod="POST";this.callType=!1;return d(b,a,this)};this.asyncPostRequest=function(b,a){this.requestMethod="POST";
this.callType=!0;return d(b,a,this)};this.syncPutRequest=function(b,a){this.requestMethod="PUT";this.callType=!1;return d(b,a,this)};this.asyncPutRequest=function(b,a){this.requestMethod="PUT";this.callType=!0;return d(b,a,this)};this.syncDeleteRequest=function(b,a){this.requestMethod="DELETE";this.callType=!1;return d(b,a,this)};this.asyncDeleteRequest=function(b,a){this.requestMethod="DELETE";this.callType=!0;return d(b,a,this)};this.syncConnectRequest=function(b,a){this.requestMethod="CONNECT";
this.callType=!1;return d(b,a,this)};this.asyncConnectRequest=function(b,a){this.requestMethod="CONNECT";this.callType=!0;return d(b,a,this)};this.syncHeadRequest=function(b,a){this.requestMethod="HEAD";this.callType=!1;return d(b,a,this)};this.asyncHeadRequest=function(b,a){this.requestMethod="HEAD";this.callType=!0;return d(b,a,this)};this.syncOptionsRequest=function(b,a){this.requestMethod="OPTIONS";this.callType=!1;return d(b,a,this)};this.asyncOptionsRequest=function(b,a){this.requestMethod=
"OPTIONS";this.callType=!0;return d(b,a,this)};this.syncTraceRequest=function(b,a){this.requestMethod="TRACE";this.callType=!1;return d(b,a,this)};this.asyncTraceRequest=function(b,a){this.requestMethod="TRACE";this.callType=!0;return d(b,a,this)};this.customRequest=function(b,a,c,e,f){this.requestMethod=c;this.callType=e;this.requestData=f;return d(b,a,this)};this.retryLastRequest=function(){this.requestMethod=m;this.callType=n;this.requestData=p;d(q,k,this)};this.getLastRequestStatus=function(){return g};
this.getLastErrorMessage=function(){return h};var l=function(b){console.log(h);""!=b&&null!=b&&"undefined"!=typeof b&&b(h);return h},d=function(b,a,c){m=c.requestMethod;n=c.callType;p=c.requestData;q=b;k=a;h="";g="PRISTINE";if(""==b||null==b||"undefined"==typeof b)return h="No target defined for the request",g="ERROR",r();try{f=new XMLHttpRequest}catch(e){try{f=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{f=new ActiveXObject("Microsoft.XMLHTTP")}catch(l){UI_alert("Enable javascript")}}}"GET"==
c.requestMethod&&0<Object.keys(c.requestData).length&&(b+="?"+t(c.requestData));f.onreadystatechange=function(){1==f.readyState?g="SENT":4==f.readyState&&200==f.status&&(g="RESPONSE",r(f.response,k))};f.open(c.requestMethod,b,c.callType,c.user,c.password);f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");f.send(t(c.requestData));c.requestMethod="";c.callType="";c.requestData={}},t=function(b){var a="",c;for(c in b)""!=a&&(a+="&"),"object"==typeof b[c]?a+=u(b[c],c,""):(a+=c,a+=
"=",a+=b[c]);return a},u=function(b,a,c){var e="",d;for(d in b)""!=e&&(e+="&"),"object"==typeof b[d]?e+=u(b[d],d,""==c?a:c+"["+a+"]"):(""!=c?(e+=c,e+="["+a+"]",e+="["+d+"]"):e+=a+"["+d+"]",e+="=",e+=b[d]);return e},r=function(b,a){if("ERROR"==g)return l(a);if("RESPONSE"==g)return""==a||null==a||"undefined"==typeof a?b:a(b);h="PRISTINE"==g?"Request not sent by app":"SENT"==g?"Response not received by app":"Unknown error in sending request";return l(a)}};